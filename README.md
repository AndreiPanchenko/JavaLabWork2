# Лабораторная работа 2: Объектно-ориентированное программирование в Java

## Цель работы
Изучение основ объектно-ориентированного программирования на Java: создание классов, объектов, работа с инкапсуляцией, организация взаимодействия между классами.

## Формулировка задач

### Задание 1. Точка координат
Создайте сущность Точка, расположенную на двумерной плоскости, которая описывается:
- Координата Х: число
- Координата Y: число
- Может возвращать текстовое представление вида "{X;Y}"

Необходимо создать три точки с разными координатами и вывести на экран их текстовое представление.

### Задание 2. Прямая
Создайте сущность Линия, расположенную на двумерной плоскости, которая описывается:
- Координата начала: Точка
- Координата конца: Точка
- Может возвращать текстовое представление вида "Линия от {X1;Y1} до {X2;Y2}"

Для указания координат нужно использовать сущность Точка, разработанную в задании 1.1. Создайте линии со следующими характеристиками:
1. Линия 1 с началом в т. {1;3} и концом в т.{23;8}.
2. Линия 2, горизонтальная, на высоте 10, от точки 5 до точки 25.
3. Линия 3, которая начинается всегда там же, где начинается линия 1, и заканчивается всегда там же, где заканчивается линия 2. Таким образом, если положение первой или второй линии меняется, то меняется и третья линия.
4. После создания всех трех объектов измените координаты первой и второй линий, причем сделайте это таким образом, чтобы положение третьей линии соответствовало требованиям пункта 3.
5. Измените координаты первой линии так, чтобы при этом не изменились координаты третьей линии.

### Задание 3. Студент
Создайте сущность Студент, которая описывается:
- Имя: строка
- Оценки: массив целых чисел.
- Может возвращать текстовое представление вида "Имя: [оценка1, оценка2,...,оценкаN]"

Необходимо выполнить следующие задачи:
1. Создать студента Васю с оценками: 3,4,5.
2. Создать студента Петю и скопировать оценки Васи, присвоив содержимое поля с оценками Васи полю с оценками Пети.
3. Заменить первую оценку Пети на число 5. Вывести на экран строковое представление Васи и Пети. Объяснить результат
4. Создать студента Андрея и скопировать ему оценки Васи так, чтобы изменение оценок Васи не влияло на Андрея.

### Задание 4. Создаем Точку и Линию
**Создаем Точку.**
Измените сущность Точка из задачи 1.1. В соответствии с новыми требованиями создать объект Точки можно только путем указания обеих координат: X и Y.

Необходимо выполнить следующие задачи:
- Создайте и выведите на экран точку с координатами 3;5
- Создайте и выведите на экран точку с координатами 25;6
- Создайте и выведите на экран точку с координатами 7;8

**Создаем Линию.**
Измените сущность Линия из задачи 2.1. Новые требования включают:
- Создание Линии возможно с указанием Точки начала и Точки конца (Точки из задачи 4.1)

Создайте линии со следующими характеристиками:
1. Линия 1 с началом в т. {1;3} и концом в {23;8}.
2. Линия 2, горизонтальная, на высоте 10, от точки 5 до точки 25.
3. Линия 3 которая начинается всегда там же где начинается линия 1, и заканчивается всегда там же, где заканчивается линия 2.

### Задание 5. Пистолет стреляет
Создайте сущность Пистолет, которая описывается следующим образом:
- Имеет Количество патронов (целое число)
- Может быть создан с указанием начального количества патронов
- Может быть создан без указания начального количества патронов, в этом случае он изначально заряжен пятью патронами.
- Может Стрелять, что приводит к выводу на экран текста "Бах!" в том случае, если количество патронов больше нуля, иначе делает "Клац!". После каждого выстрела (когда вывелся "Бах!") количество патронов уменьшается на один.

Создайте пистолет с тремя патронами и выстрелите из него пять раз.

## Описание программы

Программа представляет собой консольное приложение с интерактивным меню, позволяющим тестировать функциональность всех реализованных классов. Главный класс `Main` содержит меню для выбора задания и методы для демонстрации работы каждого класса.

Программа обеспечивает:
- Безопасный ввод данных с обработкой исключений
- Дружественный пользовательский интерфейс
- Наглядную демонстрацию работы всех методов и классов
- Проверку корректности вводимых данных

## Структура проекта

Проект состоит из 5 классов, каждый в отдельном файле:

1. **Point.java** - класс, представляющий точку на плоскости
2. **Line.java** - класс, представляющий линию на плоскости  
3. **Student.java** - класс, представляющий студента с оценками
4. **Gun.java** - класс, представляющий пистолет с патронами
5. **Main.java** - главный класс с меню и тестированием

## Реализация задач и методы решения

### Задание 1: Точка координат

**Методы решения:**
- Создан класс `Point` с приватными полями `x` и `y` типа `double`
- Реализован конструктор для инициализации координат
- Реализованы геттеры и сеттеры для доступа к координатам
- Переопределен метод `toString()` для возврата строки формата "{X;Y}"

**Код реализации:**

```java
public class Point {
    private double x;
    private double y;

    public Point(double x, double y) {
        this.x = x;
        this.y = y;
    }

    public double getX() {
        return x;
    }

    public double getY() {
        return y;
    }

    public void setX(double x) {
        this.x = x;
    }

    public void setY(double y) {
        this.y = y;
    }

    @Override
    public String toString() {
        return "{" + x + ";" + y + "}";
    }
}
```

**Метод тестирования в Main.java:**
```java
private static void task1(Scanner scanner) {
    System.out.println("--- Задание 1 ---");
    System.out.println("Создайте три точки с координатами X и Y:");

    // Ввод координат для точки 1
    System.out.print("Введите X1: ");
    double x1 = readDouble(scanner);
    System.out.print("Введите Y1: ");
    double y1 = readDouble(scanner);
    Point p1 = new Point(x1, y1);

    // Ввод координат для точки 2
    System.out.print("Введите X2: ");
    double x2 = readDouble(scanner);
    System.out.print("Введите Y2: ");
    double y2 = readDouble(scanner);
    Point p2 = new Point(x2, y2);

    // Ввод координат для точки 3
    System.out.print("Введите X3: ");
    double x3 = readDouble(scanner);
    System.out.print("Введите Y3: ");
    double y3 = readDouble(scanner);
    Point p3 = new Point(x3, y3);

    System.out.println(p1);
    System.out.println(p2);
    System.out.println(p3);
}
```

### Задание 2: Прямая

**Методы решения:**
- Создан класс `Line` с полями `start` и `end` типа `Point`
- Реализован конструктор для инициализации точек начала и конца
- Реализованы геттеры и сеттеры для точек
- Переопределен метод `toString()` для форматированного вывода

**Код реализации:**

```java
public class Line {
    private Point start;
    private Point end;

    public Line(Point start, Point end) {
        this.start = start;
        this.end = end;
    }

    public Point getStart() {
        return start;
    }

    public Point getEnd() {
        return end;
    }

    public void setStart(Point start) {
        this.start = start;
    }

    public void setEnd(Point end) {
        this.end = end;
    }

    @Override
    public String toString() {
        return "Линия от " + start + " до " + end;
    }
}
```

**Метод тестирования в Main.java:**
```java
private static void task2() {
    System.out.println("\n--- Задание 2 ---");
    Point start1 = new Point(1, 3);
    Point end1 = new Point(23, 8);
    Line line1 = new Line(start1, end1);

    Point start2 = new Point(5, 10);
    Point end2 = new Point(25, 10);
    Line line2 = new Line(start2, end2);

    // Линия 3 — зависит от начала линии 1 и конца линии 2
    Line line3 = new Line(start1, end2);

    System.out.println(line1);
    System.out.println(line2);
    System.out.println(line3);

    // Изменяем координаты — линия 3 должна отразить изменения
    start1.setX(2);
    start1.setY(4);
    end2.setX(30);
    end2.setY(12);

    System.out.println("После изменения координат:");
    System.out.println(line1);
    System.out.println(line2);
    System.out.println(line3);

    Point newStart1 = new Point(10, 10);
    line1.setStart(newStart1);
    System.out.println("После изменения начала линии 1:");
    System.out.println(line1);
    System.out.println(line3);
}
```

### Задание 3: Студент

**Методы решения:**
- Создан класс `Student` с полями `name` (String) и `grades` (int[])
- Конструктор создает копию массива оценок для защиты от внешних изменений
- Геттер возвращает копию массива, а не оригинал
- Реализован метод `toString()` для красивого вывода оценок

**Код реализации:**

```java
public class Student {
    private String name;
    private int[] grades;

    public Student(String name, int[] grades) {
        this.name = name;
        // Создаём копию массива, чтобы избежать изменений извне
        this.grades = grades.clone();
    }

    public String getName() {
        return name;
    }

    public int[] getGrades() {
        // Возвращаем копию массива, чтобы его нельзя было изменить извне
        return grades.clone();
    }

    @Override
    public String toString() {
        StringBuilder sb = new StringBuilder();
        sb.append(name).append(": [");
        for (int i = 0; i < grades.length; i++) {
            sb.append(grades[i]);
            if (i < grades.length - 1) sb.append(", ");
        }
        sb.append("]");
        return sb.toString();
    }
}
```

**Метод тестирования в Main.java:**
```java
private static void task3() {
    System.out.println("--- Задание 3 ---");

    // Создаём студента Васю с оценками 3, 4, 5
    int[] vasyaGrades = {3, 4, 5};
    Student vasya = new Student("Вася", vasyaGrades);

    // Создаём студента Петю, скопировав оценки Васи
    Student petya = new Student("Петя", vasya.getGrades());
    // Заменяем первую оценку Пети на 5
    int[] petyaGradesCopy = petya.getGrades();
    petyaGradesCopy[0] = 5;
    petya = new Student("Петя", petyaGradesCopy);

    // Создаём студента Андрея, скопировав оценки Васи
    Student andrey = new Student("Андрей", vasya.getGrades());

    System.out.println(vasya);
    System.out.println(petya);
    System.out.println(andrey);

    System.out.println("Изменение оценок Пети не повлияло на Васю и Андрея.");
}
```

### Задание 4: Создаем Точку и Линию

**Методы решения:**
- Использованы ранее созданные классы `Point` и `Line`
- Продемонстрировано создание объектов через конструкторы
- Показана работа с композицией объектов

**Метод тестирования в Main.java:**
```java
private static void task4() {
    System.out.println("--- Задание 4 ---");
    Point p1 = new Point(3, 5);
    Point p2 = new Point(25, 6);
    Point p3 = new Point(7, 8);

    System.out.print("Точка 1:");
    System.out.println(p1);
    System.out.print("Точка 2:");
    System.out.println(p2);
    System.out.print("Точка 3:");
    System.out.println(p3);

    Line l1 = new Line(new Point(1, 3), new Point(23, 8));
    Line l2 = new Line(new Point(5, 10), new Point(25, 10));
    Line l3 = new Line(l1.getStart(), l2.getEnd());

    System.out.println(l1);
    System.out.println(l2);
    System.out.println(l3);
}
```

### Задание 5: Пистолет стреляет

**Методы решения:**
- Создан класс `Gun` с полем `bullets` (int)
- Реализованы два конструктора: по умолчанию (5 патронов) и с параметром
- Метод `shoot()` проверяет наличие патронов и выводит соответствующие сообщения
- Реализован метод `toString()` для отображения состояния пистолета

**Код реализации:**

```java
public class Gun {
    private int bullets;

    public Gun() {
        this.bullets = 5;
    }

    public Gun(int bullets) {
        this.bullets = bullets;
    }

    public void shoot() {
        if (bullets > 0) {
            System.out.println("Бах!");
            bullets--;
        } else {
            System.out.println("Клац!");
        }
    }

    public int getBullets() {
        return bullets;
    }

    @Override
    public String toString() {
        return "Пистолет с " + bullets + " патронами";
    }
}
```

**Метод тестирования в Main.java:**
```java
private static void task5() {
    System.out.println("--- Задание 5 ---");
    Gun gun = new Gun(3); // пистолет с 3 патронами
    for (int i = 0; i < 5; i++) {
        gun.shoot(); // стреляем 5 раз
    }
}
```

## Тестирование программы

### Тестирование Задания 1 ✅

**Входные данные:**
```
Введите X1: 2.5
Введите Y1: 3.7
Введите X2: 10.0
Введите Y2: 15.2
Введите X3: 7.3
Введите Y3: 4.8
```

**Результат:**
```
{2.5;3.7}
{10.0;15.2}
{7.3;4.8}
```

**Вывод:** Задание выполнено успешно. Точки создаются корректно, текстовое представление соответствует формату.

### Тестирование Задания 2 ✅

**Результат выполнения:**
```
Линия от {1.0;3.0} до {23.0;8.0}
Линия от {5.0;10.0} до {25.0;10.0}
Линия от {1.0;3.0} до {25.0;10.0}

После изменения координат:
Линия от {2.0;4.0} до {23.0;8.0}
Линия от {5.0;10.0} до {30.0;12.0}
Линия от {2.0;4.0} до {30.0;12.0}

После изменения начала линии 1:
Линия от {10.0;10.0} до {23.0;8.0}
Линия от {2.0;4.0} до {30.0;12.0}
```

**Вывод:** Задание выполнено успешно. Демонстрируется работа с ссылками и изменение связанных объектов.

### Тестирование Задания 3 ✅

**Результат выполнения:**
```
Вася: [3, 4, 5]
Петя: [5, 4, 5]
Андрей: [3, 4, 5]

Изменение оценок Пети не повлияло на Васю и Андрея, потому что использовалась копия массива.
```

**Вывод:** Задание выполнено успешно. Продемонстрирована работа с глубоким копированием массивов.

### Тестирование Задания 4 ✅

**Результат выполнения:**
```
Точка 1:{3.0;5.0}
Точка 2:{25.0;6.0}
Точка 3:{7.0;8.0}

Линия от {1.0;3.0} до {23.0;8.0}
Линия от {5.0;10.0} до {25.0;10.0}
Линия от {1.0;3.0} до {25.0;10.0}
```

**Вывод:** Задание выполнено успешно. Объекты создаются корректно через конструкторы.

### Тестирование Задания 5 ✅

**Результат выполнения:**
```
Бах!
Бах!
Бах!
Клац!
Клац!
```

**Вывод:** Задание выполнено успешно. Пистолет корректно обрабатывает выстрелы при наличии и отсутствии патронов.
